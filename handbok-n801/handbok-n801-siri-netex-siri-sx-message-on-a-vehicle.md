# HÃ¥ndbok N801 \(SIRI/NeTEX\) : SIRI SX - Message on a vehicle

XML

See complete examples:

* Example 1: [https://github.com/entur/profile-norway-examples/blob/master/siri/situation-exchange/siri-sx-one-vehicle-1.xml](https://github.com/entur/profile-norway-examples/blob/master/siri/situation-exchange/siri-sx-one-vehicle-1.xml)
* Example 2: [https://github.com/entur/profile-norway-examples/blob/master/siri/situation-exchange/siri-sx-one-vehicle-2.xml](https://github.com/entur/profile-norway-examples/blob/master/siri/situation-exchange/siri-sx-one-vehicle-2.xml)

## A message which only affects a specific train <a id="SIRISX-Messageonavehicle-Amessagewhichonlyaffectsaspecifictrain"></a>

  
  \(function\(\){  
    var data = {  
    "addon\_key":"com.gliffy.integration.confluence",  
    "uniqueKey":"com.gliffy.integration.confluence\_\_gliffy4159328706480399381",  
    "key":"gliffy",  
     "moduleType":"dynamicContentMacros",      "moduleLocation":"content",         "cp":"/wiki",  
            "general":"",  
    "w":"",  
    "h":"",  
    "url":"https://confluence-connect.gliffy.net/macro/render?space=PUBLIC&displayName=&container=637370806&pageId=&name=illustration-message-on-a-vehicle&attachmentId=att750682471&pagePin=&imageAttachmentId=att746488604&border=&chrome=&html5=&size=&ceoId=&macroId=a90c66e8-1e7a-4743-92af-b5624fb4bf5d&spaceKey=&version=&migration=&previewPageId=637370806&xdm\_e=https%3A%2F%2Fenturas.atlassian.net&xdm\_c=channel-com.gliffy.integration.confluence\_\_gliffy4159328706480399381&cp=%2Fwiki&xdm\_deprecated\_addon\_key\_do\_not\_use=com.gliffy.integration.confluence&lic=active&cv=1.972.0&jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1ZDE5ZjhhNDkxOTQzZjBkMmFjNTFiY2QiLCJxc2giOiJmZTJhOTdlMzVlZTRmYTg5OGZkZmVjOWI1YzNkY2EwM2ExNjczOTI3MDNmMTY5MDRmMGI1ZTAyYmFiMTJhYmEyIiwiaXNzIjoiQ29uZmx1ZW5jZTo2NzM5MTg5ODY1IiwiY29udGV4dCI6e30sImV4cCI6MTYxOTU5MTk3MiwiaWF0IjoxNjE5NTkxNzkyfQ.DktdPuJfTpDElR4NMPpfxNche-zYJj3BYcOSgXze5G8",  
     "contextJwt": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1ZDE5ZjhhNDkxOTQzZjBkMmFjNTFiY2QiLCJpc3MiOiJDb25mbHVlbmNlOjY3MzkxODk4NjUiLCJjb250ZXh0Ijp7ImxpY2Vuc2UiOnsiYWN0aXZlIjp0cnVlfSwiY29uZmx1ZW5jZSI6eyJtYWNybyI6eyJvdXRwdXRUeXBlIjoiaHRtbF9leHBvcnQiLCJoYXNoIjoiODA3MjVkN2EtNjk1MC00MGEwLTkwOTQtMmY5YTQxZGI5N2M3IiwiaWQiOiI4MDcyNWQ3YS02OTUwLTQwYTAtOTA5NC0yZjlhNDFkYjk3YzcifSwiY29udGVudCI6eyJ0eXBlIjoicGFnZSIsInZlcnNpb24iOiIxMSIsImlkIjoiNjM3MzcwODA2In0sInNwYWNlIjp7ImtleSI6IlBVQkxJQyIsImlkIjoiNjM3MzcwMzY5In19fSwiZXhwIjoxNjE5NTkyNjkyLCJpYXQiOjE2MTk1OTE3OTJ9.T0R5oMEdzAQuwHxpwMEXT4ABIbWKPz0fHARwkLdtLPM",    "structuredContext": "{\"license\":{\"active\":true},\"confluence\":{\"macro\":{\"outputType\":\"html\_export\",\"hash\":\"80725d7a-6950-40a0-9094-2f9a41db97c7\",\"id\":\"80725d7a-6950-40a0-9094-2f9a41db97c7\"},\"content\":{\"type\":\"page\",\"version\":\"11\",\"id\":\"637370806\"},\"space\":{\"key\":\"PUBLIC\",\"id\":\"637370369\"}}}",  
    "contentClassifier":"content",  
    "productCtx":"{\"page.id\":\"637370806\",\"macro.hash\":\"80725d7a-6950-40a0-9094-2f9a41db97c7\",\"space.key\":\"PUBLIC\",\"user.id\":\"5d19f8a491943f0d2ac51bcd\",\"page.type\":\"page\",\"content.version\":\"11\",\"page.title\":\"SIRI SX - Message on a vehicle\",\"macro.body\":\"\",\": = \| RAW \| = :\":\"imageAttachmentId=att746488604\|baseUrl=https://enturas.atlassian.net/wiki\|macroId=a90c66e8-1e7a-4743-92af-b5624fb4bf5d\|name=illustration-message-on-a-vehicle\|diagramAttachmentId=att750682471\|containerId=637370806\|timestamp=1553522639103\",\"space.id\":\"637370369\",\"macro.truncated\":\"false\",\"content.type\":\"page\",\"output.type\":\"html\_export\",\"page.version\":\"11\",\"imageAttachmentId\":\"att746488604\",\"user.key\":\"8a7f808a6baf906b016bb1b5167f00d5\",\"baseUrl\":\"https://enturas.atlassian.net/wiki\",\"macroId\":\"a90c66e8-1e7a-4743-92af-b5624fb4bf5d\",\"content.id\":\"637370806\",\"name\":\"illustration-message-on-a-vehicle\",\"macro.id\":\"80725d7a-6950-40a0-9094-2f9a41db97c7\",\"diagramAttachmentId\":\"att750682471\",\"containerId\":\"637370806\",\"timestamp\":\"1553522639103\"}",  
    "timeZone":"Europe/Berlin",  
    "origin":"https://confluence-connect.gliffy.net",  
    "hostOrigin":"https://enturas.atlassian.net",  
    "sandbox":"allow-downloads allow-forms allow-modals allow-popups allow-scripts allow-same-origin allow-top-navigation-by-user-activation allow-storage-access-by-user-activation",    "pearApp":"true",        "apiMigrations": {  
        "gdpr": true  
    }  
}  
;  
    if\(window.AP && window.AP.subCreate\) {  
      window.\_AP.appendConnectAddon\(data\);  
    } else {  
      require\(\['ac/create'\], function\(create\){  
        create.appendConnectAddon\(data\);  
      }\);  
    }  
  }\(\)\);  


The following is true for the illustration:

* **Search 1** _will_ show the message
* **Search** 2 _will_ show the message
* **Search** 3 _will_ show the message
* **Search** 4 _will_ show the message
* **Search 5** will **not** show the message

The message is applied to a vehicle \(&lt;VehicleJourneyRef&gt;\) on a specific date&lt;OriginAimedDepartureTime&gt;

The message is shown whenever the vehicle appears in a journey suggestion.

Below are two examples of how to apply a message to a vehicle:**Affects, eksempel 1**

```text
<!---For Vehicle 1--->
<Affects>
	<VehicleJourneys>
    	<AffectedVehicleJourney>
        	<VehicleJourneyRef>NSB:ServiceJourney:1-3654-47</VehicleJourneyRef>
            <Route/>
            <OriginAimedDepartureTime>2018-08-17T09:11:00</OriginAimedDepartureTime>
		</AffectedVehicleJourney>
	</VehicleJourneys>
</Affects>
```

**Affects, eksempel 2**

```text
<!---For Vehicle 1--->
<Affects>
	<VehicleJourneys>
    	<AffectedVehicleJourney>
            <FramedVehicleJourneyRef>
                <DataFrameRef>2018-04-10</DataFrameRef>
                <DatedVehicleJourneyRef>NSB:ServiceJourney:1-3654-47</DatedVehicleJourneyRef>
            </FramedVehicleJourneyRef>
            <Route/>
        </AffectedVehicleJourney>
    </VehicleJourneys>
</Affects>
```

